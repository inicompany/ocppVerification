# OCPP 메시지 학습 전략

## 1. 학습 대상 메시지

### 1.1 StatusNotification
- **목적**: 충전기 상태 변화 패턴 학습
- **주요 상태값**:
  - Available (사용 가능)
  - Preparing (준비 중)
  - Charging (충전 중)
  - SuspendedEVSE (일시 중지)
  - SuspendedEV (차량에 의한 중지)
  - Finishing (종료 중)
  - Reserved (예약됨)
  - Unavailable (사용 불가)
  - Faulted (오류)
- **학습 포인트**:
  - 정상적인 상태 전이 패턴
  - 비정상적인 상태 전이 감지
  - 상태별 지속 시간 패턴

### 1.2 ChargePointDataTransfer
- **목적**: 충전기-중앙시스템 간 데이터 전송 패턴 학습
- **주요 데이터**:
  - 충전 세션 정보
  - 오류 코드
  - 진단 정보
  - 커스텀 데이터
- **학습 포인트**:
  - 데이터 전송 주기 패턴
  - 오류 발생 패턴
  - 진단 정보 패턴

### 1.3 MeterValues
- **목적**: 충전 중 전력 사용 패턴 학습
- **주요 데이터**:
  - 전력 사용량
  - 전압/전류 값
  - 온도 정보
  - 충전 비용
- **학습 포인트**:
  - 정상적인 전력 사용 패턴
  - 비정상적인 전력 사용 감지
  - 온도 변화 패턴

### 1.4 StartTransaction/StopTransaction
- **목적**: 충전 세션 패턴 학습
- **주요 데이터**:
  - 트랜잭션 ID
  - 시작/종료 시간
  - 충전량
  - 비용 정보
- **학습 포인트**:
  - 세션 시작/종료 패턴
  - 충전 시간 패턴
  - 비용 계산 패턴

### 1.5 Heartbeat
- **목적**: 시스템 연결 상태 패턴 학습
- **주요 데이터**:
  - 현재 시간
  - 연결 상태
- **학습 포인트**:
  - 연결 상태 패턴
  - 통신 지연 패턴

## 2. 학습 우선순위

### 2.1 1단계: StatusNotification
- 가장 기본적이고 중요한 상태 정보
- 이상 탐지의 기본이 되는 패턴
- 즉시 학습 시작

### 2.2 2단계: ChargePointDataTransfer
- 상태 정보와 연계된 상세 데이터
- 오류 및 진단 정보 포함
- 1단계 학습 안정화 후 시작

### 2.3 3단계: MeterValues
- 전력 사용 패턴 학습
- 비용 계산 관련 데이터
- 2단계 학습 안정화 후 시작

### 2.4 4단계: StartTransaction/StopTransaction
- 세션 관리 패턴 학습
- 전체 충전 프로세스 이해
- 3단계 학습 안정화 후 시작

### 2.5 5단계: Heartbeat
- 시스템 안정성 모니터링
- 통신 상태 패턴 학습
- 지속적인 모니터링

## 3. 학습 방법

### 3.1 데이터 수집
- Open Charge Alliance 웹사이트
- GitHub 저장소
- 실제 운영 데이터

### 3.2 전처리
- 데이터 정규화
- 시퀀스 생성
- 이상치 제거

### 3.3 모델 학습
- LSTM 기반 시퀀스 학습
- 상태 전이 확률 계산
- 패턴 매칭

### 3.4 검증
- 정상 패턴 검증
- 이상 패턴 검증
- 성능 메트릭 측정

## 4. 지속적 개선

### 4.1 실시간 학습
- 새로운 데이터 자동 학습
- 패턴 업데이트
- 성능 모니터링

### 4.2 피드백 시스템
- 오탐지 보고
- 패턴 수정
- 임계값 조정

### 4.3 성능 최적화
- 모델 구조 개선
- 학습 파라미터 조정
- 시스템 안정성 향상 