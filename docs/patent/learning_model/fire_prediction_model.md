# OCPP 기반 전기차 화재 예측 학습 모델

## 1. 모델 구조

### 1.1 LSTM 기반 시계열 예측 모델
- 입력층: 10개 특성 (전류, 전압, 온도, 전력, 온도 변화율, 전류 변동성, 상태 코드, 오류 코드, 진단 코드, 시스템 상태)
- LSTM층: 2개 레이어, 64개 뉴런
- 출력층: 1개 뉴런 (위험도 점수)

### 1.2 데이터 전처리
- 시계열 데이터 정규화
- 이상치 제거
- 시퀀스 생성 (100개 데이터 포인트)

## 2. 학습 프로세스

### 2.1 데이터 수집
- OCPP 메시지 실시간 수집
- MeterValues, StatusNotification, ChargePointDataTransfer 메시지 통합
- 시계열 데이터 버퍼링

### 2.2 특성 추출
- 물리적 특성 (전류, 전압, 온도)
- 파생 특성 (전력, 온도 변화율, 전류 변동성)
- 상태 특성 (상태 코드, 오류 코드)
- 시스템 특성 (진단 코드, 시스템 상태)

### 2.3 학습 알고리즘
- Adam 옵티마이저 사용
- Binary Cross Entropy 손실 함수
- 100 에포크 학습
- 배치 크기: 32

## 3. 예측 메커니즘

### 3.1 위험도 계산
- 0~1 사이의 위험도 점수 산출
- 임계값 기반 위험 수준 판단
  - 정상: < 0.7
  - 경고: 0.7 ~ 0.9
  - 심각: > 0.9

### 3.2 실시간 예측
- 1초 간격 데이터 수집
- 시계열 패턴 분석
- 위험도 점수 실시간 업데이트

## 4. 모델 성능 개선

### 4.1 자동 학습
- 새로운 데이터 지속적 학습
- 패턴 자동 업데이트
- 성능 지표 모니터링

### 4.2 성능 최적화
- 하이퍼파라미터 자동 조정
- 모델 구조 최적화
- 학습 데이터 품질 관리

## 5. 모델 검증

### 5.1 검증 지표
- 정확도 (Accuracy)
- 정밀도 (Precision)
- 재현율 (Recall)
- F1 점수

### 5.2 테스트 방법
- 교차 검증
- 실시간 테스트
- A/B 테스트

## 6. 모델 배포

### 6.1 배포 프로세스
- 모델 저장 및 버전 관리
- 실시간 배포
- 롤백 메커니즘

### 6.2 모니터링
- 성능 모니터링
- 리소스 사용량 추적
- 오류 감지 및 보고 